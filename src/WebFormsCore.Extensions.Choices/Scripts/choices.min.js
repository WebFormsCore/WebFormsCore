(function(){
/*! choices.js v11.0.2 | Â© 2024 Josh Johnson | https://github.com/jshjohnson/Choices#readme */
var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if(typeof n!=`function`&&n!==null)throw TypeError(`Class extends value `+String(n)+` is not a constructor or null`);e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function r(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var i={ADD_CHOICE:`ADD_CHOICE`,REMOVE_CHOICE:`REMOVE_CHOICE`,FILTER_CHOICES:`FILTER_CHOICES`,ACTIVATE_CHOICES:`ACTIVATE_CHOICES`,CLEAR_CHOICES:`CLEAR_CHOICES`,ADD_GROUP:`ADD_GROUP`,ADD_ITEM:`ADD_ITEM`,REMOVE_ITEM:`REMOVE_ITEM`,HIGHLIGHT_ITEM:`HIGHLIGHT_ITEM`},a={showDropdown:`showDropdown`,hideDropdown:`hideDropdown`,change:`change`,choice:`choice`,search:`search`,addItem:`addItem`,removeItem:`removeItem`,highlightItem:`highlightItem`,highlightChoice:`highlightChoice`,unhighlightItem:`unhighlightItem`},o=[`fuseOptions`,`classNames`],s={Text:`text`,SelectOne:`select-one`,SelectMultiple:`select-multiple`},c=function(e){return{type:i.ADD_CHOICE,choice:e}},l=function(e){return{type:i.REMOVE_CHOICE,choice:e}},u=function(e){return{type:i.FILTER_CHOICES,results:e}},d=function(e){return{type:i.ACTIVATE_CHOICES,active:e}},f=function(e){return{type:i.ADD_GROUP,group:e}},p=function(e){return{type:i.ADD_ITEM,item:e}},m=function(e){return{type:i.REMOVE_ITEM,item:e}},h=function(e,t){return{type:i.HIGHLIGHT_ITEM,item:e,highlighted:t}},g=function(e,t){return Math.floor(Math.random()*(t-e)+e)},_=function(e){return Array.from({length:e},function(){return g(0,36).toString(36)}).join(``)},v=function(e,t){var n=e.id||e.name&&`${e.name}-${_(2)}`||_(4);return n=n.replace(/(:|\.|\[|\]|,)/g,``),n=`${t}-${n}`,n},y=function(e,t,n){n===void 0&&(n=1);for(var r=`${n>0?`next`:`previous`}ElementSibling`,i=e[r];i;){if(i.matches(t))return i;i=i[r]}return null},b=function(e,t,n){return n===void 0&&(n=1),n>0?t.scrollTop+t.offsetHeight>=e.offsetTop+e.offsetHeight:e.offsetTop>=t.scrollTop},x=function(e){if(typeof e!=`string`){if(e==null)return``;if(typeof e==`object`){if(`raw`in e)return x(e.raw);if(`trusted`in e)return e.trusted}return e}return e.replace(/&/g,`&amp;`).replace(/>/g,`&gt;`).replace(/</g,`&lt;`).replace(/'/g,`&#039;`).replace(/"/g,`&quot;`)},S=(function(){var e=document.createElement(`div`);return function(t){e.innerHTML=t.trim();for(var n=e.children[0];e.firstChild;)e.removeChild(e.firstChild);return n}})(),C=function(e,t){return typeof e==`function`?e(x(t),t):e},ee=function(e){return typeof e==`function`?e():e},w=function(e){if(typeof e==`string`)return e;if(typeof e==`object`){if(`trusted`in e)return e.trusted;if(`raw`in e)return e.raw}return``},te=function(e){if(typeof e==`string`)return e;if(typeof e==`object`){if(`escaped`in e)return e.escaped;if(`trusted`in e)return e.trusted}return``},T=function(e,t){return e?te(t):x(t)},E=function(e,t,n){e.innerHTML=T(t,n)},ne=function(e,t){var n=e.value,r=e.label,i=r===void 0?n:r,a=t.value,o=t.label,s=o===void 0?a:o;return w(i).localeCompare(w(s),[],{sensitivity:`base`,ignorePunctuation:!0,numeric:!0})},re=function(e,t){return e.rank-t.rank},ie=function(e,t,n){n===void 0&&(n=null);var r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0});return e.dispatchEvent(r)},ae=function(e,t){var n=Object.keys(e).sort(),r=Object.keys(t).sort();return n.filter(function(e){return r.indexOf(e)<0})},D=function(e){return Array.isArray(e)?e:[e]},O=function(e){return e&&Array.isArray(e)?e.map(function(e){return`.${e}`}).join(``):`.${e}`},k=function(e,t){var n;(n=e.classList).add.apply(n,D(t))},A=function(e,t){var n;(n=e.classList).remove.apply(n,D(t))},oe=function(e){if(e!==void 0)try{return JSON.parse(e)}catch{return e}return{}},se=function(e,t,n){var r=e.itemEl;r&&(A(r,n),k(r,t))},ce=function(){function e(e){var t=e.element,n=e.type,r=e.classNames;this.element=t,this.classNames=r,this.type=n,this.isActive=!1}return e.prototype.show=function(){return k(this.element,this.classNames.activeState),this.element.setAttribute(`aria-expanded`,`true`),this.isActive=!0,this},e.prototype.hide=function(){return A(this.element,this.classNames.activeState),this.element.setAttribute(`aria-expanded`,`false`),this.isActive=!1,this},e}(),le=function(){function e(e){var t=e.element,n=e.type,r=e.classNames,i=e.position;this.element=t,this.classNames=r,this.type=n,this.position=i,this.isOpen=!1,this.isFlipped=!1,this.isDisabled=!1,this.isLoading=!1}return e.prototype.shouldFlip=function(e,t){var n=!1;return this.position===`auto`?n=this.element.getBoundingClientRect().top-t>=0&&!window.matchMedia(`(min-height: ${e+1}px)`).matches:this.position===`top`&&(n=!0),n},e.prototype.setActiveDescendant=function(e){this.element.setAttribute(`aria-activedescendant`,e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute(`aria-activedescendant`)},e.prototype.open=function(e,t){k(this.element,this.classNames.openState),this.element.setAttribute(`aria-expanded`,`true`),this.isOpen=!0,this.shouldFlip(e,t)&&(k(this.element,this.classNames.flippedState),this.isFlipped=!0)},e.prototype.close=function(){A(this.element,this.classNames.openState),this.element.setAttribute(`aria-expanded`,`false`),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&=(A(this.element,this.classNames.flippedState),!1)},e.prototype.addFocusState=function(){k(this.element,this.classNames.focusState)},e.prototype.removeFocusState=function(){A(this.element,this.classNames.focusState)},e.prototype.enable=function(){A(this.element,this.classNames.disabledState),this.element.removeAttribute(`aria-disabled`),this.type===s.SelectOne&&this.element.setAttribute(`tabindex`,`0`),this.isDisabled=!1},e.prototype.disable=function(){k(this.element,this.classNames.disabledState),this.element.setAttribute(`aria-disabled`,`true`),this.type===s.SelectOne&&this.element.setAttribute(`tabindex`,`-1`),this.isDisabled=!0},e.prototype.wrap=function(e){var t=this.element,n=e.parentNode;n&&(e.nextSibling?n.insertBefore(t,e.nextSibling):n.appendChild(t)),t.appendChild(e)},e.prototype.unwrap=function(e){var t=this.element,n=t.parentNode;n&&(n.insertBefore(e,t),n.removeChild(t))},e.prototype.addLoadingState=function(){k(this.element,this.classNames.loadingState),this.element.setAttribute(`aria-busy`,`true`),this.isLoading=!0},e.prototype.removeLoadingState=function(){A(this.element,this.classNames.loadingState),this.element.removeAttribute(`aria-busy`),this.isLoading=!1},e}(),ue=function(){function e(e){var t=e.element,n=e.type,r=e.classNames,i=e.preventPaste;this.element=t,this.type=n,this.classNames=r,this.preventPaste=i,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=t.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(e.prototype,`placeholder`,{set:function(e){this.element.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,`value`,{get:function(){return this.element.value},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),e.prototype.addEventListeners=function(){var e=this.element;e.addEventListener(`paste`,this._onPaste),e.addEventListener(`input`,this._onInput,{passive:!0}),e.addEventListener(`focus`,this._onFocus,{passive:!0}),e.addEventListener(`blur`,this._onBlur,{passive:!0})},e.prototype.removeEventListeners=function(){var e=this.element;e.removeEventListener(`input`,this._onInput),e.removeEventListener(`paste`,this._onPaste),e.removeEventListener(`focus`,this._onFocus),e.removeEventListener(`blur`,this._onBlur)},e.prototype.enable=function(){this.element.removeAttribute(`disabled`),this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute(`disabled`,``),this.isDisabled=!0},e.prototype.focus=function(){this.isFocussed||this.element.focus()},e.prototype.blur=function(){this.isFocussed&&this.element.blur()},e.prototype.clear=function(e){return e===void 0&&(e=!0),this.element.value=``,e&&this.setWidth(),this},e.prototype.setWidth=function(){var e=this.element;e.style.minWidth=`${e.placeholder.length+1}ch`,e.style.width=`${e.value.length+1}ch`},e.prototype.setActiveDescendant=function(e){this.element.setAttribute(`aria-activedescendant`,e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute(`aria-activedescendant`)},e.prototype._onInput=function(){this.type!==s.SelectOne&&this.setWidth()},e.prototype._onPaste=function(e){this.preventPaste&&e.preventDefault()},e.prototype._onFocus=function(){this.isFocussed=!0},e.prototype._onBlur=function(){this.isFocussed=!1},e}(),de=4,fe=function(){function e(e){this.element=e.element,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return e.prototype.prepend=function(e){var t=this.element.firstElementChild;t?this.element.insertBefore(e,t):this.element.append(e)},e.prototype.scrollToTop=function(){this.element.scrollTop=0},e.prototype.scrollToChildElement=function(e,t){var n=this;if(e){var r=this.element.offsetHeight,i=this.element.scrollTop+r,a=e.offsetHeight,o=e.offsetTop+a,s=t>0?this.element.scrollTop+o-i:e.offsetTop;requestAnimationFrame(function(){n._animateScroll(s,t)})}},e.prototype._scrollDown=function(e,t,n){var r=(n-e)/t,i=r>1?r:1;this.element.scrollTop=e+i},e.prototype._scrollUp=function(e,t,n){var r=(e-n)/t,i=r>1?r:1;this.element.scrollTop=e-i},e.prototype._animateScroll=function(e,t){var n=this,r=de,i=this.element.scrollTop,a=!1;t>0?(this._scrollDown(i,r,e),i<e&&(a=!0)):(this._scrollUp(i,r,e),i>e&&(a=!0)),a&&requestAnimationFrame(function(){n._animateScroll(e,t)})},e}(),pe=function(){function e(e){var t=e.element,n=e.classNames;this.element=t,this.classNames=n,this.isDisabled=!1}return Object.defineProperty(e.prototype,`isActive`,{get:function(){return this.element.dataset.choice===`active`},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,`dir`,{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,`value`,{get:function(){return this.element.value},set:function(e){this.element.setAttribute(`value`,e),this.element.value=e},enumerable:!1,configurable:!0}),e.prototype.conceal=function(){var e=this.element;k(e,this.classNames.input),e.hidden=!0,e.tabIndex=-1;var t=e.getAttribute(`style`);t&&e.setAttribute(`data-choice-orig-style`,t),e.setAttribute(`data-choice`,`active`)},e.prototype.reveal=function(){var e=this.element;A(e,this.classNames.input),e.hidden=!1,e.removeAttribute(`tabindex`);var t=e.getAttribute(`data-choice-orig-style`);t?(e.removeAttribute(`data-choice-orig-style`),e.setAttribute(`style`,t)):e.removeAttribute(`style`),e.removeAttribute(`data-choice`)},e.prototype.enable=function(){this.element.removeAttribute(`disabled`),this.element.disabled=!1,this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute(`disabled`,``),this.element.disabled=!0,this.isDisabled=!0},e.prototype.triggerEvent=function(e,t){ie(this.element,e,t||{})},e}(),me=function(e){t(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n}(pe),j=function(e,t){return t===void 0&&(t=!0),e===void 0?t:!!e},he=function(e){if(typeof e==`string`&&(e=e.split(` `).filter(function(e){return e.length})),Array.isArray(e)&&e.length)return e},M=function(e,t){if(typeof e==`string`)return M({value:e,label:e},!1);var n=e;if(`choices`in n){if(!t)throw TypeError(`optGroup is not allowed`);var r=n,i=r.choices.map(function(e){return M(e,!1)});return{id:0,label:w(r.label)||r.value,active:!!i.length,disabled:!!r.disabled,choices:i}}var a=n;return{id:0,group:null,score:0,rank:0,value:a.value,label:a.label||a.value,active:j(a.active),selected:j(a.selected,!1),disabled:j(a.disabled,!1),placeholder:j(a.placeholder,!1),highlighted:!1,labelClass:he(a.labelClass),labelDescription:a.labelDescription,customProperties:a.customProperties}},ge=function(e){return e.tagName===`INPUT`},_e=function(e){return e.tagName===`SELECT`},ve=function(e){return e.tagName===`OPTION`},ye=function(e){return e.tagName===`OPTGROUP`},be=function(e){t(n,e);function n(t){var n=t.element,r=t.classNames,i=t.template,a=t.extractPlaceholder,o=e.call(this,{element:n,classNames:r})||this;return o.template=i,o.extractPlaceholder=a,o}return Object.defineProperty(n.prototype,`placeholderOption`,{get:function(){return this.element.querySelector(`option[value=""]`)||this.element.querySelector(`option[placeholder]`)},enumerable:!1,configurable:!0}),n.prototype.addOptions=function(e){var t=this,n=document.createDocumentFragment();e.forEach(function(e){var r=e;if(!r.element){var i=t.template(r);n.appendChild(i),r.element=i}}),this.element.appendChild(n)},n.prototype.optionsAsChoices=function(){var e=this,t=[];return this.element.querySelectorAll(`:scope > option, :scope > optgroup`).forEach(function(n){ve(n)?t.push(e._optionToChoice(n)):ye(n)&&t.push(e._optgroupToChoice(n))}),t},n.prototype._optionToChoice=function(e){return!e.hasAttribute(`value`)&&e.hasAttribute(`placeholder`)&&(e.setAttribute(`value`,``),e.value=``),{id:0,group:null,score:0,rank:0,value:e.value,label:e.innerHTML,element:e,active:!0,selected:this.extractPlaceholder?e.selected:e.hasAttribute(`selected`),disabled:e.disabled,highlighted:!1,placeholder:this.extractPlaceholder&&(!e.value||e.hasAttribute(`placeholder`)),labelClass:e.dataset.labelClass===void 0?void 0:he(e.dataset.labelClass),labelDescription:e.dataset.labelDescription===void 0?void 0:e.dataset.labelDescription,customProperties:oe(e.dataset.customProperties)}},n.prototype._optgroupToChoice=function(e){var t=this,n=e.querySelectorAll(`option`),r=Array.from(n).map(function(e){return t._optionToChoice(e)});return{id:0,label:e.label||``,element:e,active:!!r.length,disabled:e.disabled,choices:r}},n}(pe),xe={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,closeDropdownOnSelect:`auto`,singleModeForMultiSelect:!1,addChoices:!1,addItems:!0,addItemFilter:function(e){return!!e&&e!==``},removeItems:!0,removeItemButton:!1,removeItemButtonAlignLeft:!1,editItems:!1,allowHTML:!1,allowHtmlUserInput:!1,duplicateItemsAllowed:!0,delimiter:`,`,paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:[`label`,`value`],position:`auto`,resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:ne,shadowRoot:null,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:`auto`,loadingText:`Loading...`,noResultsText:`No results found`,noChoicesText:`No choices to choose from`,itemSelectText:`Press to select`,uniqueItemText:`Only unique values can be added`,customAddItemText:`Only values matching specific conditions can be added`,addItemText:function(e){return`Press Enter to add <b>"${e}"</b>`},removeItemIconText:function(){return`Remove item`},removeItemLabelText:function(e){return`Remove item: ${e}`},maxItemText:function(e){return`Only ${e} values can be added`},valueComparer:function(e,t){return e===t},fuseOptions:{includeScore:!0},labelId:``,callbackOnInit:null,callbackOnCreateTemplates:null,classNames:{containerOuter:[`choices`],containerInner:[`choices__inner`],input:[`choices__input`],inputCloned:[`choices__input--cloned`],list:[`choices__list`],listItems:[`choices__list--multiple`],listSingle:[`choices__list--single`],listDropdown:[`choices__list--dropdown`],item:[`choices__item`],itemSelectable:[`choices__item--selectable`],itemDisabled:[`choices__item--disabled`],itemChoice:[`choices__item--choice`],description:[`choices__description`],placeholder:[`choices__placeholder`],group:[`choices__group`],groupHeading:[`choices__heading`],button:[`choices__button`],activeState:[`is-active`],focusState:[`is-focused`],openState:[`is-open`],disabledState:[`is-disabled`],highlightedState:[`is-highlighted`],selectedState:[`is-selected`],flippedState:[`is-flipped`],loadingState:[`is-loading`],notice:[`choices__notice`],addChoice:[`choices__item--selectable`,`add-choice`],noResults:[`has-no-results`],noChoices:[`has-no-choices`]},appendGroupInSearch:!1},Se=function(e){var t=e.itemEl;t&&(t.remove(),e.itemEl=void 0)};function Ce(e,t,n){var r=e,a=!0;switch(t.type){case i.ADD_ITEM:t.item.selected=!0;var o=t.item.element;o&&(o.selected=!0,o.setAttribute(`selected`,``)),r.push(t.item);break;case i.REMOVE_ITEM:t.item.selected=!1;var o=t.item.element;if(o){o.selected=!1,o.removeAttribute(`selected`);var c=o.parentElement;c&&_e(c)&&c.type===s.SelectOne&&(c.value=``)}Se(t.item),r=r.filter(function(e){return e.id!==t.item.id});break;case i.REMOVE_CHOICE:Se(t.choice),r=r.filter(function(e){return e.id!==t.choice.id});break;case i.HIGHLIGHT_ITEM:var l=t.highlighted,u=r.find(function(e){return e.id===t.item.id});u&&u.highlighted!==l&&(u.highlighted=l,n&&se(u,l?n.classNames.highlightedState:n.classNames.selectedState,l?n.classNames.selectedState:n.classNames.highlightedState));break;default:a=!1;break}return{state:r,update:a}}function we(e,t){var n=e,r=!0;switch(t.type){case i.ADD_GROUP:n.push(t.group);break;case i.CLEAR_CHOICES:n=[];break;default:r=!1;break}return{state:n,update:r}}function Te(e,t,n){var r=e,a=!0;switch(t.type){case i.ADD_CHOICE:r.push(t.choice);break;case i.REMOVE_CHOICE:t.choice.choiceEl=void 0,t.choice.group&&(t.choice.group.choices=t.choice.group.choices.filter(function(e){return e.id!==t.choice.id})),r=r.filter(function(e){return e.id!==t.choice.id});break;case i.ADD_ITEM:case i.REMOVE_ITEM:t.item.choiceEl=void 0;break;case i.FILTER_CHOICES:var o=[];t.results.forEach(function(e){o[e.item.id]=e}),r.forEach(function(e){var t=o[e.id];t===void 0?(e.score=0,e.rank=0,e.active=!1):(e.score=t.score,e.rank=t.rank,e.active=!0),n&&n.appendGroupInSearch&&(e.choiceEl=void 0)});break;case i.ACTIVATE_CHOICES:r.forEach(function(e){e.active=t.active,n&&n.appendGroupInSearch&&(e.choiceEl=void 0)});break;case i.CLEAR_CHOICES:r=[];break;default:a=!1;break}return{state:r,update:a}}var Ee={groups:we,items:Ce,choices:Te},De=function(){function e(e){this._state=this.defaultState,this._listeners=[],this._txn=0,this._context=e}return Object.defineProperty(e.prototype,`defaultState`,{get:function(){return{groups:[],items:[],choices:[]}},enumerable:!1,configurable:!0}),e.prototype.changeSet=function(e){return{groups:e,items:e,choices:e}},e.prototype.reset=function(){this._state=this.defaultState;var e=this.changeSet(!0);this._txn?this._changeSet=e:this._listeners.forEach(function(t){return t(e)})},e.prototype.subscribe=function(e){return this._listeners.push(e),this},e.prototype.dispatch=function(e){var t=this,n=this._state,r=!1,i=this._changeSet||this.changeSet(!1);Object.keys(Ee).forEach(function(a){var o=Ee[a](n[a],e,t._context);o.update&&(r=!0,i[a]=!0,n[a]=o.state)}),r&&(this._txn?this._changeSet=i:this._listeners.forEach(function(e){return e(i)}))},e.prototype.withTxn=function(e){this._txn++;try{e()}finally{if(this._txn=Math.max(0,this._txn-1),!this._txn){var t=this._changeSet;t&&(this._changeSet=void 0,this._listeners.forEach(function(e){return e(t)}))}}},Object.defineProperty(e.prototype,`state`,{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,`items`,{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,`highlightedActiveItems`,{get:function(){return this.items.filter(function(e){return!e.disabled&&e.active&&e.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,`choices`,{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,`activeChoices`,{get:function(){return this.choices.filter(function(e){return e.active})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,`searchableChoices`,{get:function(){return this.choices.filter(function(e){return!e.disabled&&!e.placeholder})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,`groups`,{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,`activeGroups`,{get:function(){var e=this;return this.state.groups.filter(function(t){var n=t.active&&!t.disabled,r=e.state.choices.some(function(e){return e.active&&!e.disabled});return n&&r},[])},enumerable:!1,configurable:!0}),e.prototype.inTxn=function(){return this._txn>0},e.prototype.getChoiceById=function(e){return this.activeChoices.find(function(t){return t.id===e})},e.prototype.getGroupById=function(e){return this.groups.find(function(t){return t.id===e})},e}(),N={noChoices:`no-choices`,noResults:`no-results`,addChoice:`add-choice`,generic:``};function Oe(e,t,n){return(t=je(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?ke(Object(n),!0).forEach(function(t){Oe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ae(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function je(e){var t=Ae(e,`string`);return typeof t==`symbol`?t:t+``}function F(e){return Array.isArray?Array.isArray(e):Re(e)===`[object Array]`}function Me(e){if(typeof e==`string`)return e;let t=e+``;return t==`0`&&1/e==-1/0?`-0`:t}function Ne(e){return e==null?``:Me(e)}function I(e){return typeof e==`string`}function Pe(e){return typeof e==`number`}function Fe(e){return e===!0||e===!1||Le(e)&&Re(e)==`[object Boolean]`}function Ie(e){return typeof e==`object`}function Le(e){return Ie(e)&&e!==null}function L(e){return e!=null}function R(e){return!e.trim().length}function Re(e){return e==null?e===void 0?`[object Undefined]`:`[object Null]`:Object.prototype.toString.call(e)}let ze=e=>`Invalid value for key ${e}`,Be=e=>`Pattern length exceeds max of ${e}.`,Ve=e=>`Missing ${e} property in key`,He=e=>`Property 'weight' in key '${e}' must be a positive integer`,Ue=Object.prototype.hasOwnProperty;var We=class{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(e=>{let n=Ge(e);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(e=>{e.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function Ge(e){let t=null,n=null,r=null,i=1,a=null;if(I(e)||F(e))r=e,t=Ke(e),n=z(e);else{if(!Ue.call(e,`name`))throw Error(Ve(`name`));let o=e.name;if(r=o,Ue.call(e,`weight`)&&(i=e.weight,i<=0))throw Error(He(o));t=Ke(o),n=z(o),a=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:a}}function Ke(e){return F(e)?e:e.split(`.`)}function z(e){return F(e)?e.join(`.`):e}function qe(e,t){let n=[],r=!1,i=(e,t,a)=>{if(L(e))if(!t[a])n.push(e);else{let o=e[t[a]];if(!L(o))return;if(a===t.length-1&&(I(o)||Pe(o)||Fe(o)))n.push(Ne(o));else if(F(o)){r=!0;for(let e=0,n=o.length;e<n;e+=1)i(o[e],t,a+1)}else t.length&&i(o,t,a+1)}};return i(e,I(t)?t.split(`.`):t,0),r?n:n[0]}let Je={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Ye={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Xe={location:0,threshold:.6,distance:100},Ze={useExtendedSearch:!1,getFn:qe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var B=P(P(P(P({},Ye),Je),Xe),Ze);let Qe=/[^ ]+/g;function $e(e=1,t=3){let n=new Map,r=10**t;return{get(t){let i=t.match(Qe).length;if(n.has(i))return n.get(i);let a=1/i**(.5*e),o=parseFloat(Math.round(a*r)/r);return n.set(i,o),o},clear(){n.clear()}}}var V=class{constructor({getFn:e=B.getFn,fieldNormWeight:t=B.fieldNormWeight}={}){this.norm=$e(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((e,t)=>{this._keysMap[e.id]=t})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,I(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){let t=this.size();I(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)--this.records[t].i}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!L(e)||R(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((t,r)=>{let i=t.getFn?t.getFn(e):this.getFn(e,t.path);if(L(i)){if(F(i)){let e=[],t=[{nestedArrIndex:-1,value:i}];for(;t.length;){let{nestedArrIndex:n,value:r}=t.pop();if(L(r))if(I(r)&&!R(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else F(r)&&r.forEach((e,n)=>{t.push({nestedArrIndex:n,value:e})})}n.$[r]=e}else if(I(i)&&!R(i)){let e={v:i,n:this.norm.get(i)};n.$[r]=e}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}};function et(e,t,{getFn:n=B.getFn,fieldNormWeight:r=B.fieldNormWeight}={}){let i=new V({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(Ge)),i.setSources(t),i.create(),i}function tt(e,{getFn:t=B.getFn,fieldNormWeight:n=B.fieldNormWeight}={}){let{keys:r,records:i}=e,a=new V({getFn:t,fieldNormWeight:n});return a.setKeys(r),a.setIndexRecords(i),a}function H(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=B.distance,ignoreLocation:a=B.ignoreLocation}={}){let o=t/e.length;if(a)return o;let s=Math.abs(r-n);return i?o+s/i:s?1:o}function nt(e=[],t=B.minMatchCharLength){let n=[],r=-1,i=-1,a=0;for(let o=e.length;a<o;a+=1){let o=e[a];o&&r===-1?r=a:!o&&r!==-1&&(i=a-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[a-1]&&a-r>=t&&n.push([r,a-1]),n}function rt(e,t,n,{location:r=B.location,distance:i=B.distance,threshold:a=B.threshold,findAllMatches:o=B.findAllMatches,minMatchCharLength:s=B.minMatchCharLength,includeMatches:c=B.includeMatches,ignoreLocation:l=B.ignoreLocation}={}){if(t.length>32)throw Error(Be(32));let u=t.length,d=e.length,f=Math.max(0,Math.min(r,d)),p=a,m=f,h=s>1||c,g=h?Array(d):[],_;for(;(_=e.indexOf(t,m))>-1;){let e=H(t,{currentLocation:_,expectedLocation:f,distance:i,ignoreLocation:l});if(p=Math.min(e,p),m=_+u,h){let e=0;for(;e<u;)g[_+e]=1,e+=1}}m=-1;let v=[],y=1,b=u+d,x=1<<u-1;for(let r=0;r<u;r+=1){let a=0,s=b;for(;a<s;)H(t,{errors:r,currentLocation:f+s,expectedLocation:f,distance:i,ignoreLocation:l})<=p?a=s:b=s,s=Math.floor((b-a)/2+a);b=s;let c=Math.max(1,f-s+1),_=o?d:Math.min(f+s,d)+u,S=Array(_+2);S[_+1]=(1<<r)-1;for(let a=_;a>=c;--a){let o=a-1,s=n[e.charAt(o)];if(h&&(g[o]=+!!s),S[a]=(S[a+1]<<1|1)&s,r&&(S[a]|=(v[a+1]|v[a])<<1|1|v[a+1]),S[a]&x&&(y=H(t,{errors:r,currentLocation:o,expectedLocation:f,distance:i,ignoreLocation:l}),y<=p)){if(p=y,m=o,m<=f)break;c=Math.max(1,2*f-m)}}if(H(t,{errors:r+1,currentLocation:f,expectedLocation:f,distance:i,ignoreLocation:l})>p)break;v=S}let S={isMatch:m>=0,score:Math.max(.001,y)};if(h){let e=nt(g,s);e.length?c&&(S.indices=e):S.isMatch=!1}return S}function it(e){let t={};for(let n=0,r=e.length;n<r;n+=1){let i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}var at=class{constructor(e,{location:t=B.location,threshold:n=B.threshold,distance:r=B.distance,includeMatches:i=B.includeMatches,findAllMatches:a=B.findAllMatches,minMatchCharLength:o=B.minMatchCharLength,isCaseSensitive:s=B.isCaseSensitive,ignoreLocation:c=B.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:s,ignoreLocation:c},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;let l=(e,t)=>{this.chunks.push({pattern:e,alphabet:it(e),startIndex:t})},u=this.pattern.length;if(u>32){let e=0,t=u%32,n=u-t;for(;e<n;)l(this.pattern.substr(e,32),e),e+=32;if(t){let e=u-32;l(this.pattern.substr(e),e)}}else l(this.pattern,0)}searchIn(e){let{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}let{location:r,distance:i,threshold:a,findAllMatches:o,minMatchCharLength:s,ignoreLocation:c}=this.options,l=[],u=0,d=!1;this.chunks.forEach(({pattern:t,alphabet:f,startIndex:p})=>{let{isMatch:m,score:h,indices:g}=rt(e,t,f,{location:r+p,distance:i,threshold:a,findAllMatches:o,minMatchCharLength:s,includeMatches:n,ignoreLocation:c});m&&(d=!0),u+=h,m&&g&&(l=[...l,...g])});let f={isMatch:d,score:d?u/this.chunks.length:1};return d&&n&&(f.indices=l),f}},U=class{constructor(e){this.pattern=e}static isMultiMatch(e){return ot(e,this.multiRegex)}static isSingleMatch(e){return ot(e,this.singleRegex)}search(){}};function ot(e,t){let n=e.match(t);return n?n[1]:null}var st=class extends U{constructor(e){super(e)}static get type(){return`exact`}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},ct=class extends U{constructor(e){super(e)}static get type(){return`inverse-exact`}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let t=e.indexOf(this.pattern)===-1;return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},lt=class extends U{constructor(e){super(e)}static get type(){return`prefix-exact`}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},ut=class extends U{constructor(e){super(e)}static get type(){return`inverse-prefix-exact`}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},dt=class extends U{constructor(e){super(e)}static get type(){return`suffix-exact`}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},ft=class extends U{constructor(e){super(e)}static get type(){return`inverse-suffix-exact`}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},pt=class extends U{constructor(e,{location:t=B.location,threshold:n=B.threshold,distance:r=B.distance,includeMatches:i=B.includeMatches,findAllMatches:a=B.findAllMatches,minMatchCharLength:o=B.minMatchCharLength,isCaseSensitive:s=B.isCaseSensitive,ignoreLocation:c=B.ignoreLocation}={}){super(e),this._bitapSearch=new at(e,{location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:s,ignoreLocation:c})}static get type(){return`fuzzy`}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},mt=class extends U{constructor(e){super(e)}static get type(){return`include`}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,n,r=[],i=this.pattern.length;for(;(n=e.indexOf(this.pattern,t))>-1;)t=n+i,r.push([n,t-1]);let a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}};let W=[st,mt,lt,ut,ft,dt,ct,pt],ht=W.length,gt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;function _t(e,t={}){return e.split(`|`).map(e=>{let n=e.trim().split(gt).filter(e=>e&&!!e.trim()),r=[];for(let e=0,i=n.length;e<i;e+=1){let i=n[e],a=!1,o=-1;for(;!a&&++o<ht;){let e=W[o],n=e.isMultiMatch(i);n&&(r.push(new e(n,t)),a=!0)}if(!a)for(o=-1;++o<ht;){let e=W[o],n=e.isSingleMatch(i);if(n){r.push(new e(n,t));break}}}return r})}let vt=new Set([pt.type,mt.type]);var yt=class{constructor(e,{isCaseSensitive:t=B.isCaseSensitive,includeMatches:n=B.includeMatches,minMatchCharLength:r=B.minMatchCharLength,ignoreLocation:i=B.ignoreLocation,findAllMatches:a=B.findAllMatches,location:o=B.location,threshold:s=B.threshold,distance:c=B.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:a,ignoreLocation:i,location:o,threshold:s,distance:c},this.pattern=t?e:e.toLowerCase(),this.query=_t(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){let t=this.query;if(!t)return{isMatch:!1,score:1};let{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let i=0,a=[],o=0;for(let r=0,s=t.length;r<s;r+=1){let s=t[r];a.length=0,i=0;for(let t=0,r=s.length;t<r;t+=1){let r=s[t],{isMatch:c,indices:l,score:u}=r.search(e);if(c){if(i+=1,o+=u,n){let e=r.constructor.type;vt.has(e)?a=[...a,...l]:a.push(l)}}else{o=0,i=0,a.length=0;break}}if(i){let e={isMatch:!0,score:o/i};return n&&(e.indices=a),e}}return{isMatch:!1,score:1}}};let G=[];function bt(...e){G.push(...e)}function K(e,t){for(let n=0,r=G.length;n<r;n+=1){let r=G[n];if(r.condition(e,t))return new r(e,t)}return new at(e,t)}let q={AND:`$and`,OR:`$or`},J={PATH:`$path`,PATTERN:`$val`},Y=e=>!!(e[q.AND]||e[q.OR]),xt=e=>!!e[J.PATH],St=e=>!F(e)&&Ie(e)&&!Y(e),Ct=e=>({[q.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function wt(e,t,{auto:n=!0}={}){let r=e=>{let i=Object.keys(e),a=xt(e);if(!a&&i.length>1&&!Y(e))return r(Ct(e));if(St(e)){let r=a?e[J.PATH]:i[0],o=a?e[J.PATTERN]:e[r];if(!I(o))throw Error(ze(r));let s={keyId:z(r),pattern:o};return n&&(s.searcher=K(o,t)),s}let o={children:[],operator:i[0]};return i.forEach(t=>{let n=e[t];F(n)&&n.forEach(e=>{o.children.push(r(e))})}),o};return Y(e)||(e=Ct(e)),r(e)}function Tt(e,{ignoreFieldNorm:t=B.ignoreFieldNorm}){e.forEach(e=>{let n=1;e.matches.forEach(({key:e,norm:r,score:i})=>{let a=e?e.weight:null;n*=(i===0&&a?2**-52:i)**+((a||1)*(t?1:r))}),e.score=n})}function Et(e,t){let n=e.matches;t.matches=[],L(n)&&n.forEach(e=>{if(!L(e.indices)||!e.indices.length)return;let{indices:n,value:r}=e,i={indices:n,value:r};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)})}function Dt(e,t){t.score=e.score}function Ot(e,t,{includeMatches:n=B.includeMatches,includeScore:r=B.includeScore}={}){let i=[];return n&&i.push(Et),r&&i.push(Dt),e.map(e=>{let{idx:n}=e,r={item:t[n],refIndex:n};return i.length&&i.forEach(t=>{t(e,r)}),r})}var X=class{constructor(e,t={},n){this.options=P(P({},B),t),this.options.useExtendedSearch,this._keyStore=new We(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof V))throw Error(`Incorrect 'index' type`);this._myIndex=t||et(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){L(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let t=[];for(let n=0,r=this._docs.length;n<r;n+=1){let i=this._docs[n];e(i,n)&&(this.removeAt(n),--n,--r,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){let{includeMatches:n,includeScore:r,shouldSort:i,sortFn:a,ignoreFieldNorm:o}=this.options,s=I(e)?I(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Tt(s,{ignoreFieldNorm:o}),i&&s.sort(a),Pe(t)&&t>-1&&(s=s.slice(0,t)),Ot(s,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){let t=K(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:e,i:n,n:i})=>{if(!L(e))return;let{isMatch:a,score:o,indices:s}=t.searchIn(e);a&&r.push({item:e,idx:n,matches:[{score:o,value:e,norm:i,indices:s}]})}),r}_searchLogical(e){let t=wt(e,this.options),n=(e,t,r)=>{if(!e.children){let{keyId:n,searcher:i}=e,a=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return a&&a.length?[{idx:r,item:t,matches:a}]:[]}let i=[];for(let a=0,o=e.children.length;a<o;a+=1){let o=e.children[a],s=n(o,t,r);if(s.length)i.push(...s);else if(e.operator===q.AND)return[]}return i},r=this._myIndex.records,i={},a=[];return r.forEach(({$:e,i:r})=>{if(L(e)){let o=n(t,e,r);o.length&&(i[r]||(i[r]={idx:r,item:e,matches:[]},a.push(i[r])),o.forEach(({matches:e})=>{i[r].matches.push(...e)}))}}),a}_searchObjectList(e){let t=K(e,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach(({$:e,i:r})=>{if(!L(e))return;let a=[];n.forEach((n,r)=>{a.push(...this._findMatches({key:n,value:e[r],searcher:t}))}),a.length&&i.push({idx:r,item:e,matches:a})}),i}_findMatches({key:e,value:t,searcher:n}){if(!L(t))return[];let r=[];if(F(t))t.forEach(({v:t,i,n:a})=>{if(!L(t))return;let{isMatch:o,score:s,indices:c}=n.searchIn(t);o&&r.push({score:s,key:e,value:t,idx:i,norm:a,indices:c})});else{let{v:i,n:a}=t,{isMatch:o,score:s,indices:c}=n.searchIn(i);o&&r.push({score:s,key:e,value:i,norm:a,indices:c})}return r}};X.version=`7.0.0`,X.createIndex=et,X.parseIndex=tt,X.config=B,X.parseQuery=wt,bt(yt);var kt=function(){function e(e){this._haystack=[],this._fuseOptions=n(n({},e.fuseOptions),{keys:r([],e.searchFields,!0),includeMatches:!0})}return e.prototype.index=function(e){this._haystack=e,this._fuse&&this._fuse.setCollection(e)},e.prototype.reset=function(){this._haystack=[],this._fuse=void 0},e.prototype.isEmptyIndex=function(){return!this._haystack.length},e.prototype.search=function(e){return this._fuse||=new X(this._haystack,this._fuseOptions),this._fuse.search(e).map(function(e,t){return{item:e.item,score:e.score||0,rank:t+1}})},e}();function At(e){return new kt(e)}var jt=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},Z=function(e,t,n){var r=e.dataset,i=t.customProperties,a=t.labelClass,o=t.labelDescription;a&&(r.labelClass=D(a).join(` `)),o&&(r.labelDescription=o),n&&i&&(typeof i==`string`?r.customProperties=i:typeof i==`object`&&!jt(i)&&(r.customProperties=JSON.stringify(i)))},Mt=function(e,t,n){var r=t&&e.querySelector(`label[for='${t}']`),i=r&&r.innerText;i&&n.setAttribute(`aria-label`,i)},Nt={containerOuter:function(e,t,n,r,i,a,o){var s=e.classNames.containerOuter,c=document.createElement(`div`);return k(c,s),c.dataset.type=a,t&&(c.dir=t),r&&(c.tabIndex=0),n&&(c.setAttribute(`role`,i?`combobox`:`listbox`),i?c.setAttribute(`aria-autocomplete`,`list`):o||Mt(this._docRoot,this.passedElement.element.id,c),c.setAttribute(`aria-haspopup`,`true`),c.setAttribute(`aria-expanded`,`false`)),o&&c.setAttribute(`aria-labelledby`,o),c},containerInner:function(e){var t=e.classNames.containerInner,n=document.createElement(`div`);return k(n,t),n},itemList:function(e,t){var n=e.searchEnabled,r=e.classNames,i=r.list,a=r.listSingle,o=r.listItems,s=document.createElement(`div`);return k(s,i),k(s,t?a:o),this._isSelectElement&&n&&s.setAttribute(`role`,`listbox`),s},placeholder:function(e,t){var n=e.allowHTML,r=e.classNames.placeholder,i=document.createElement(`div`);return k(i,r),E(i,n,t),i},item:function(e,t,n){var r=e.allowHTML,i=e.removeItemButtonAlignLeft,a=e.removeItemIconText,o=e.removeItemLabelText,s=e.classNames,c=s.item,l=s.button,u=s.highlightedState,d=s.itemSelectable,f=s.placeholder,p=w(t.value),m=document.createElement(`div`);if(k(m,c),t.labelClass){var h=document.createElement(`span`);E(h,r,t.label),k(h,t.labelClass),m.appendChild(h)}else E(m,r,t.label);if(m.dataset.item=``,m.dataset.id=t.id,m.dataset.value=p,Z(m,t,!0),(t.disabled||this.containerOuter.isDisabled)&&m.setAttribute(`aria-disabled`,`true`),this._isSelectElement&&(m.setAttribute(`aria-selected`,`true`),m.setAttribute(`role`,`option`)),t.placeholder&&(k(m,f),m.dataset.placeholder=``),k(m,t.highlighted?u:d),n){t.disabled&&A(m,d),m.dataset.deletable=``;var g=document.createElement(`button`);g.type=`button`,k(g,l),E(g,!0,C(a,t.value));var _=C(o,t.value);_&&g.setAttribute(`aria-label`,_),g.dataset.button=``,i?m.insertAdjacentElement(`afterbegin`,g):m.appendChild(g)}return m},choiceList:function(e,t){var n=e.classNames.list,r=document.createElement(`div`);return k(r,n),t||r.setAttribute(`aria-multiselectable`,`true`),r.setAttribute(`role`,`listbox`),r},choiceGroup:function(e,t){var n=e.allowHTML,r=e.classNames,i=r.group,a=r.groupHeading,o=r.itemDisabled,s=t.id,c=t.label,l=t.disabled,u=w(c),d=document.createElement(`div`);k(d,i),l&&k(d,o),d.setAttribute(`role`,`group`),d.dataset.group=``,d.dataset.id=s,d.dataset.value=u,l&&d.setAttribute(`aria-disabled`,`true`);var f=document.createElement(`div`);return k(f,a),E(f,n,c||``),d.appendChild(f),d},choice:function(e,t,n,r){var i=e.allowHTML,a=e.classNames,o=a.item,s=a.itemChoice,c=a.itemSelectable,l=a.selectedState,u=a.itemDisabled,d=a.description,f=a.placeholder,p=t.label,m=w(t.value),h=document.createElement(`div`);h.id=t.elementId,k(h,o),k(h,s),r&&typeof p==`string`&&(p=T(i,p),p+=` (${r})`,p={trusted:p});var g=h;if(t.labelClass){var _=document.createElement(`span`);E(_,i,p),k(_,t.labelClass),g=_,h.appendChild(_)}else E(h,i,p);if(t.labelDescription){var v=`${t.elementId}-description`;g.setAttribute(`aria-describedby`,v);var y=document.createElement(`span`);E(y,i,t.labelDescription),y.id=v,k(y,d),h.appendChild(y)}return t.selected&&k(h,l),t.placeholder&&k(h,f),h.setAttribute(`role`,t.group?`treeitem`:`option`),h.dataset.choice=``,h.dataset.id=t.id,h.dataset.value=m,n&&(h.dataset.selectText=n),t.group&&(h.dataset.groupId=`${t.group.id}`),Z(h,t,!1),t.disabled?(k(h,u),h.dataset.choiceDisabled=``,h.setAttribute(`aria-disabled`,`true`)):(k(h,c),h.dataset.choiceSelectable=``),h},input:function(e,t){var n=e.classNames,r=n.input,i=n.inputCloned,a=e.labelId,o=document.createElement(`input`);return o.type=`search`,k(o,r),k(o,i),o.autocomplete=`off`,o.autocapitalize=`off`,o.spellcheck=!1,o.setAttribute(`role`,`textbox`),o.setAttribute(`aria-autocomplete`,`list`),t?o.setAttribute(`aria-label`,t):a||Mt(this._docRoot,this.passedElement.element.id,o),o},dropdown:function(e){var t=e.classNames,n=t.list,r=t.listDropdown,i=document.createElement(`div`);return k(i,n),k(i,r),i.setAttribute(`aria-expanded`,`false`),i},notice:function(e,t,n){var r=e.classNames,i=r.item,a=r.itemChoice,o=r.addChoice,s=r.noResults,c=r.noChoices,l=r.notice;n===void 0&&(n=N.generic);var u=document.createElement(`div`);switch(E(u,!0,t),k(u,i),k(u,a),k(u,l),n){case N.addChoice:k(u,o);break;case N.noResults:k(u,s);break;case N.noChoices:k(u,c);break}return n===N.addChoice&&(u.dataset.choiceSelectable=``,u.dataset.choice=``),u},option:function(e){var t=w(e.label),n=new Option(t,e.value,!1,e.selected);return Z(n,e,!0),n.disabled=e.disabled,e.selected&&n.setAttribute(`selected`,``),n}},Pt=`-ms-scroll-limit`in document.documentElement.style&&`-ms-ime-align`in document.documentElement.style,Ft={},Q=function(e){if(e)return e.dataset.id?parseInt(e.dataset.id,10):void 0},$=`[data-choice-selectable]`,It=function(){function e(t,r){t===void 0&&(t=`[data-choice]`),r===void 0&&(r={});var i=this;this.initialisedOK=void 0,this._hasNonChoicePlaceholder=!1,this._lastAddedChoiceId=0,this._lastAddedGroupId=0;var a=e.defaults;this.config=n(n(n({},a.allOptions),a.options),r),o.forEach(function(e){i.config[e]=n(n(n({},a.allOptions[e]),a.options[e]),r[e])});var c=this.config;c.silent||this._validateConfig();var l=c.shadowRoot||document.documentElement;this._docRoot=l;var u=typeof t==`string`?l.querySelector(t):t;if(!u||typeof u!=`object`||!(ge(u)||_e(u)))throw!u&&typeof t==`string`?TypeError(`Selector ${t} failed to find an element`):TypeError(`Expected one of the following types text|select-one|select-multiple`);var d=u.type,f=d===s.Text;(f||c.maxItemCount!==1)&&(c.singleModeForMultiSelect=!1),c.singleModeForMultiSelect&&(d=s.SelectMultiple);var p=d===s.SelectOne,m=d===s.SelectMultiple,h=p||m;if(this._elementType=d,this._isTextElement=f,this._isSelectOneElement=p,this._isSelectMultipleElement=m,this._isSelectElement=p||m,this._canAddUserChoices=f&&c.addItems||h&&c.addChoices,typeof c.renderSelectedChoices!=`boolean`&&(c.renderSelectedChoices=c.renderSelectedChoices===`always`||p),c.closeDropdownOnSelect===`auto`?c.closeDropdownOnSelect=f||p||c.singleModeForMultiSelect:c.closeDropdownOnSelect=j(c.closeDropdownOnSelect),c.placeholder&&(c.placeholderValue?this._hasNonChoicePlaceholder=!0:u.dataset.placeholder&&(this._hasNonChoicePlaceholder=!0,c.placeholderValue=u.dataset.placeholder)),r.addItemFilter&&typeof r.addItemFilter!=`function`){var g=r.addItemFilter instanceof RegExp?r.addItemFilter:new RegExp(r.addItemFilter);c.addItemFilter=g.test.bind(g)}if(this._isTextElement?this.passedElement=new me({element:u,classNames:c.classNames}):this.passedElement=new be({element:u,classNames:c.classNames,template:function(e){return i._templates.option(e)},extractPlaceholder:c.placeholder&&!this._hasNonChoicePlaceholder}),this.initialised=!1,this._store=new De(c),this._currentValue=``,c.searchEnabled=!f&&c.searchEnabled||m,this._canSearch=c.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=v(u,`choices-`),this._direction=u.dir,!this._direction){var _=window.getComputedStyle(u).direction;_!==window.getComputedStyle(document.documentElement).direction&&(this._direction=_)}if(this._idNames={itemChoice:`item-choice`},this._templates=a.templates,this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onInput=this._onInput.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive){c.silent||console.warn(`Trying to initialise Choices on element already initialised`,{element:t}),this.initialised=!0,this.initialisedOK=!1;return}this.init(),this._initialItems=this._store.items.map(function(e){return e.value})}return Object.defineProperty(e,`defaults`,{get:function(){return Object.preventExtensions({get options(){return Ft},get allOptions(){return xe},get templates(){return Nt}})},enumerable:!1,configurable:!0}),e.prototype.init=function(){if(!(this.initialised||this.initialisedOK!==void 0)){this._searcher=At(this.config),this._loadChoices(),this._createTemplates(),this._createElements(),this._createStructure(),this._isTextElement&&!this.config.addItems||this.passedElement.element.hasAttribute(`disabled`)||this.passedElement.element.closest(`fieldset:disabled`)?this.disable():(this.enable(),this._addEventListeners()),this._initStore(),this.initialised=!0,this.initialisedOK=!0;var e=this.config.callbackOnInit;typeof e==`function`&&e.call(this)}},e.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this._store._listeners=[],this.clearStore(!1),this._stopSearch(),this._templates=e.defaults.templates,this.initialised=!1,this.initialisedOK=void 0)},e.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},e.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},e.prototype.highlightItem=function(e,t){if(t===void 0&&(t=!0),!e||!e.id)return this;var n=this._store.items.find(function(t){return t.id===e.id});return!n||n.highlighted?this:(this._store.dispatch(h(n,!0)),t&&this.passedElement.triggerEvent(a.highlightItem,this._getChoiceForOutput(n)),this)},e.prototype.unhighlightItem=function(e,t){if(t===void 0&&(t=!0),!e||!e.id)return this;var n=this._store.items.find(function(t){return t.id===e.id});return!n||!n.highlighted?this:(this._store.dispatch(h(n,!1)),t&&this.passedElement.triggerEvent(a.unhighlightItem,this._getChoiceForOutput(n)),this)},e.prototype.highlightAll=function(){var e=this;return this._store.withTxn(function(){e._store.items.forEach(function(t){t.highlighted||(e._store.dispatch(h(t,!0)),e.passedElement.triggerEvent(a.highlightItem,e._getChoiceForOutput(t)))})}),this},e.prototype.unhighlightAll=function(){var e=this;return this._store.withTxn(function(){e._store.items.forEach(function(t){t.highlighted&&(e._store.dispatch(h(t,!1)),e.passedElement.triggerEvent(a.highlightItem,e._getChoiceForOutput(t)))})}),this},e.prototype.removeActiveItemsByValue=function(e){var t=this;return this._store.withTxn(function(){t._store.items.filter(function(t){return t.value===e}).forEach(function(e){return t._removeItem(e)})}),this},e.prototype.removeActiveItems=function(e){var t=this;return this._store.withTxn(function(){t._store.items.filter(function(t){return t.id!==e}).forEach(function(e){return t._removeItem(e)})}),this},e.prototype.removeHighlightedItems=function(e){var t=this;return e===void 0&&(e=!1),this._store.withTxn(function(){t._store.highlightedActiveItems.forEach(function(n){t._removeItem(n),e&&t._triggerChange(n.value)})}),this},e.prototype.showDropdown=function(e){var t=this;return this.dropdown.isActive||requestAnimationFrame(function(){t.dropdown.show();var n=t.dropdown.element.getBoundingClientRect();t.containerOuter.open(n.bottom,n.height),!e&&t._canSearch&&t.input.focus(),t.passedElement.triggerEvent(a.showDropdown)}),this},e.prototype.hideDropdown=function(e){var t=this;return this.dropdown.isActive&&requestAnimationFrame(function(){t.dropdown.hide(),t.containerOuter.close(),!e&&t._canSearch&&(t.input.removeActiveDescendant(),t.input.blur()),t.passedElement.triggerEvent(a.hideDropdown)}),this},e.prototype.getValue=function(e){var t=this,n=this._store.items.map(function(n){return e?n.value:t._getChoiceForOutput(n)});return this._isSelectOneElement||this.config.singleModeForMultiSelect?n[0]:n},e.prototype.setValue=function(e){var t=this;return this.initialisedOK?(this._store.withTxn(function(){e.forEach(function(e){e&&t._addChoice(M(e,!1))})}),this._searcher.reset(),this):(this._warnChoicesInitFailed(`setValue`),this)},e.prototype.setChoiceByValue=function(e){var t=this;return this.initialisedOK?this._isTextElement?this:(this._store.withTxn(function(){(Array.isArray(e)?e:[e]).forEach(function(e){return t._findAndSelectChoiceByValue(e)}),t.unhighlightAll()}),this._searcher.reset(),this):(this._warnChoicesInitFailed(`setChoiceByValue`),this)},e.prototype.setChoices=function(e,t,r,i,a){var o=this;if(e===void 0&&(e=[]),t===void 0&&(t=`value`),r===void 0&&(r=`label`),i===void 0&&(i=!1),a===void 0&&(a=!0),!this.initialisedOK)return this._warnChoicesInitFailed(`setChoices`),this;if(!this._isSelectElement)throw TypeError(`setChoices can't be used with INPUT based Choices`);if(typeof t!=`string`||!t)throw TypeError(`value parameter must be a name of 'value' field in passed objects`);if(i&&this.clearChoices(),typeof e==`function`){var s=e(this);if(typeof Promise==`function`&&s instanceof Promise)return new Promise(function(e){return requestAnimationFrame(e)}).then(function(){return o._handleLoadingState(!0)}).then(function(){return s}).then(function(e){return o.setChoices(e,t,r,i)}).catch(function(e){o.config.silent||console.error(e)}).then(function(){return o._handleLoadingState(!1)}).then(function(){return o});if(!Array.isArray(s))throw TypeError(`.setChoices first argument function must return either array of choices or Promise, got: ${typeof s}`);return this.setChoices(s,t,r,!1)}if(!Array.isArray(e))throw TypeError(`.setChoices must be called either with array of choices with a function resulting into Promise of array of choices`);return this.containerOuter.removeLoadingState(),this._store.withTxn(function(){a&&(o._isSearching=!1);var i=t===`value`,s=r===`label`;e.forEach(function(e){if(`choices`in e){var a=e;s||(a=n(n({},a),{label:a[r]})),o._addGroup(M(a,!0))}else{var c=e;(!s||!i)&&(c=n(n({},c),{value:c[t],label:c[r]})),o._addChoice(M(c,!1))}}),o.unhighlightAll()}),this._searcher.reset(),this},e.prototype.refresh=function(e,t,n){var r=this;return e===void 0&&(e=!1),t===void 0&&(t=!1),n===void 0&&(n=!1),this._isSelectElement?(this._store.withTxn(function(){var i=r.passedElement.optionsAsChoices(),a={};n||r._store.items.forEach(function(e){e.id&&e.active&&e.selected&&!e.disabled&&(a[e.value]=!0)}),r.clearStore(!1);var o=function(e){n?r._store.dispatch(m(e)):a[e.value]&&(e.selected=!0)};i.forEach(function(e){if(`choices`in e){e.choices.forEach(o);return}o(e)}),r._addPredefinedChoices(i,t,e),r._isSearching&&r._searchChoices(r.input.value)}),this):(this.config.silent||console.warn(`refresh method can only be used on choices backed by a <select> element`),this)},e.prototype.removeChoice=function(e){var t=this._store.choices.find(function(t){return t.value===e});return t?(this._clearNotice(),this._store.dispatch(l(t)),this._searcher.reset(),t.selected&&this.passedElement.triggerEvent(a.removeItem,this._getChoiceForOutput(t)),this):this},e.prototype.clearChoices=function(){var e=this;return this._store.withTxn(function(){e._store.choices.forEach(function(t){t.selected||e._store.dispatch(l(t))})}),this._searcher.reset(),this},e.prototype.clearStore=function(e){return e===void 0&&(e=!0),this._stopSearch(),e&&this.passedElement.element.replaceChildren(``),this.itemList.element.replaceChildren(``),this.choiceList.element.replaceChildren(``),this._store.reset(),this._lastAddedChoiceId=0,this._lastAddedGroupId=0,this._searcher.reset(),this},e.prototype.clearInput=function(){var e=!this._isSelectOneElement;return this.input.clear(e),this._stopSearch(),this},e.prototype._validateConfig=function(){var e=this.config,t=ae(e,xe);t.length&&console.warn(`Unknown config option(s) passed`,t.join(`, `)),e.allowHTML&&e.allowHtmlUserInput&&(e.addItems&&console.warn(`Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks`),e.addChoices&&console.warn(`Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks`))},e.prototype._render=function(e){e===void 0&&(e={choices:!0,groups:!0,items:!0}),!this._store.inTxn()&&(this._isSelectElement&&(e.choices||e.groups)&&this._renderChoices(),e.items&&this._renderItems())},e.prototype._renderChoices=function(){var e=this;if(this._canAddItems()){var t=this,n=t.config,r=t._isSearching,i=this._store,a=i.activeGroups,o=i.activeChoices,s=0;if(r&&n.searchResultLimit>0?s=n.searchResultLimit:n.renderChoiceLimit>0&&(s=n.renderChoiceLimit),this._isSelectElement){var c=o.filter(function(e){return!e.element});c.length&&this.passedElement.addOptions(c)}var l=document.createDocumentFragment(),u=function(e){return e.filter(function(e){return!e.placeholder&&(r?!!e.rank:n.renderSelectedChoices||!e.selected)})},d=!1,f=function(t,i,a){r?t.sort(re):n.shouldSort&&t.sort(n.sorter);var o=t.length;o=!i&&s&&o>s?s:o,o--,t.every(function(t,i){var s=t.choiceEl||e._templates.choice(n,t,n.itemSelectText,a);return t.choiceEl=s,l.appendChild(s),!t.disabled&&(r||!t.selected)&&(d=!0),i<o})};o.length&&(n.resetScrollPosition&&requestAnimationFrame(function(){return e.choiceList.scrollToTop()}),!this._hasNonChoicePlaceholder&&!r&&this._isSelectOneElement&&f(o.filter(function(e){return e.placeholder&&!e.group}),!1,void 0),a.length&&!r?(n.shouldSort&&a.sort(n.sorter),f(o.filter(function(e){return!e.placeholder&&!e.group}),!1,void 0),a.forEach(function(t){var i=u(t.choices);if(i.length){if(t.label){var a=t.groupEl||e._templates.choiceGroup(e.config,t);t.groupEl=a,a.remove(),l.appendChild(a)}f(i,!0,n.appendGroupInSearch&&r?t.label:void 0)}})):f(u(o),!1,void 0)),d||(this._notice||={text:ee(r?n.noResultsText:n.noChoicesText),type:r?N.noResults:N.noChoices},l.replaceChildren(``)),this._renderNotice(l),this.choiceList.element.replaceChildren(l),d&&this._highlightChoice()}},e.prototype._renderItems=function(){var e=this,t=this._store.items||[],n=this.itemList.element,r=this.config,i=document.createDocumentFragment(),a=function(e){return n.querySelector(`[data-item][data-id="${e.id}"]`)},o=function(t){var n=t.itemEl;n&&n.parentElement||(n=a(t)||e._templates.item(r,t,r.removeItemButton),t.itemEl=n,i.appendChild(n))};t.forEach(o);var s=!!i.childNodes.length;if(this._isSelectOneElement&&this._hasNonChoicePlaceholder){var c=n.children.length;if(s||c>1){var l=n.querySelector(O(r.classNames.placeholder));l&&l.remove()}else c||(s=!0,o(M({selected:!0,value:``,label:r.placeholderValue||``,placeholder:!0},!1)))}s&&(n.append(i),r.shouldSortItems&&!this._isSelectOneElement&&(t.sort(r.sorter),t.forEach(function(e){var t=a(e);t&&(t.remove(),i.append(t))}),n.append(i))),this._isTextElement&&(this.passedElement.value=t.map(function(e){return e.value}).join(r.delimiter))},e.prototype._displayNotice=function(e,t,n){n===void 0&&(n=!0);var r=this._notice;if(r&&(r.type===t&&r.text===e||r.type===N.addChoice&&(t===N.noResults||t===N.noChoices))){n&&this.showDropdown(!0);return}this._clearNotice(),this._notice=e?{text:e,type:t}:void 0,this._renderNotice(),n&&e&&this.showDropdown(!0)},e.prototype._clearNotice=function(){if(this._notice){var e=this.choiceList.element.querySelector(O(this.config.classNames.notice));e&&e.remove(),this._notice=void 0}},e.prototype._renderNotice=function(e){var t=this._notice;if(t){var n=this._templates.notice(this.config,t.text,t.type);e?e.append(n):this.choiceList.prepend(n)}},e.prototype._getChoiceForOutput=function(e,t){return{id:e.id,highlighted:e.highlighted,labelClass:e.labelClass,labelDescription:e.labelDescription,customProperties:e.customProperties,disabled:e.disabled,active:e.active,label:e.label,placeholder:e.placeholder,value:e.value,groupValue:e.group?e.group.label:void 0,element:e.element,keyCode:t}},e.prototype._triggerChange=function(e){e!=null&&this.passedElement.triggerEvent(a.change,{value:e})},e.prototype._handleButtonAction=function(e){var t=this,n=this._store.items;if(!(!n.length||!this.config.removeItems||!this.config.removeItemButton)){var r=e&&Q(e.parentElement),i=r&&n.find(function(e){return e.id===r});i&&this._store.withTxn(function(){if(t._removeItem(i),t._triggerChange(i.value),t._isSelectOneElement&&!t._hasNonChoicePlaceholder){var e=t._store.choices.reverse().find(function(e){return!e.disabled&&e.placeholder});e&&(t._addItem(e),t.unhighlightAll(),e.value&&t._triggerChange(e.value))}})}},e.prototype._handleItemAction=function(e,t){var n=this;t===void 0&&(t=!1);var r=this._store.items;if(!(!r.length||!this.config.removeItems||this._isSelectOneElement)){var i=Q(e);i&&(r.forEach(function(e){e.id===i&&!e.highlighted?n.highlightItem(e):!t&&e.highlighted&&n.unhighlightItem(e)}),this.input.focus())}},e.prototype._handleChoiceAction=function(e){var t=this,n=Q(e),r=n&&this._store.getChoiceById(n);if(!r||r.disabled)return!1;var i=this.dropdown.isActive;if(!r.selected){if(!this._canAddItems())return!0;this._store.withTxn(function(){t._addItem(r,!0,!0),t.clearInput(),t.unhighlightAll()}),this._triggerChange(r.value)}return i&&this.config.closeDropdownOnSelect&&(this.hideDropdown(!0),this.containerOuter.element.focus()),!0},e.prototype._handleBackspace=function(e){var t=this.config;if(!(!t.removeItems||!e.length)){var n=e[e.length-1],r=e.some(function(e){return e.highlighted});t.editItems&&!r&&n?(this.input.value=n.value,this.input.setWidth(),this._removeItem(n),this._triggerChange(n.value)):(r||this.highlightItem(n,!1),this.removeHighlightedItems(!0))}},e.prototype._loadChoices=function(){var e,t=this.config;if(this._isTextElement){if(this._presetChoices=t.items.map(function(e){return M(e,!1)}),this.passedElement.value){var n=this.passedElement.value.split(t.delimiter).map(function(e){return M(e,!1)});this._presetChoices=this._presetChoices.concat(n)}this._presetChoices.forEach(function(e){e.selected=!0})}else if(this._isSelectElement){this._presetChoices=t.choices.map(function(e){return M(e,!0)});var r=this.passedElement.optionsAsChoices();r&&(e=this._presetChoices).push.apply(e,r)}},e.prototype._handleLoadingState=function(e){e===void 0&&(e=!0);var t=this.itemList.element;e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?t.replaceChildren(this._templates.placeholder(this.config,this.config.loadingText)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?(t.replaceChildren(``),this._render()):this.input.placeholder=this._placeholderValue||``)},e.prototype._handleSearch=function(e){if(this.input.isFocussed)if(e!=null&&e.length>=this.config.searchFloor){var t=this.config.searchChoices?this._searchChoices(e):0;t!==null&&this.passedElement.triggerEvent(a.search,{value:e,resultCount:t})}else this._store.choices.some(function(e){return!e.active})&&this._stopSearch()},e.prototype._canAddItems=function(){var e=this.config,t=e.maxItemCount,n=e.maxItemText;return!e.singleModeForMultiSelect&&t>0&&t<=this._store.items.length?(this.choiceList.element.replaceChildren(``),this._displayNotice(typeof n==`function`?n(t):n,N.addChoice),!1):!0},e.prototype._canCreateItem=function(e){var t=this.config,n=!0,r=``;if(n&&typeof t.addItemFilter==`function`&&!t.addItemFilter(e)&&(n=!1,r=C(t.customAddItemText,e)),n){var i=this._store.choices.find(function(n){return t.valueComparer(n.value,e)});if(this._isSelectElement){if(i)return this._displayNotice(``,N.addChoice),!1}else this._isTextElement&&!t.duplicateItemsAllowed&&i&&(n=!1,r=C(t.uniqueItemText,e))}return n&&(r=C(t.addItemText,e)),r&&this._displayNotice(r,N.addChoice),n},e.prototype._searchChoices=function(e){var t=e.trim().replace(/\s{2,}/,` `);if(!t.length||t===this._currentValue)return null;var n=this._searcher;n.isEmptyIndex()&&n.index(this._store.searchableChoices);var r=n.search(t);this._currentValue=t,this._highlightPosition=0,this._isSearching=!0;var i=this._notice;return(i&&i.type)!==N.addChoice&&(r.length?this._clearNotice():this._displayNotice(ee(this.config.noResultsText),N.noResults)),this._store.dispatch(u(r)),r.length},e.prototype._stopSearch=function(){this._isSearching&&(this._currentValue=``,this._isSearching=!1,this._clearNotice(),this._store.dispatch(d(!0)),this.passedElement.triggerEvent(a.search,{value:``,resultCount:0}))},e.prototype._addEventListeners=function(){var e=this._docRoot,t=this.containerOuter.element,n=this.input.element;e.addEventListener(`touchend`,this._onTouchEnd,!0),t.addEventListener(`keydown`,this._onKeyDown,!0),t.addEventListener(`mousedown`,this._onMouseDown,!0),e.addEventListener(`click`,this._onClick,{passive:!0}),e.addEventListener(`touchmove`,this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener(`mouseover`,this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(t.addEventListener(`focus`,this._onFocus,{passive:!0}),t.addEventListener(`blur`,this._onBlur,{passive:!0})),n.addEventListener(`keyup`,this._onKeyUp,{passive:!0}),n.addEventListener(`input`,this._onInput,{passive:!0}),n.addEventListener(`focus`,this._onFocus,{passive:!0}),n.addEventListener(`blur`,this._onBlur,{passive:!0}),n.form&&n.form.addEventListener(`reset`,this._onFormReset,{passive:!0}),this.input.addEventListeners()},e.prototype._removeEventListeners=function(){var e=this._docRoot,t=this.containerOuter.element,n=this.input.element;e.removeEventListener(`touchend`,this._onTouchEnd,!0),t.removeEventListener(`keydown`,this._onKeyDown,!0),t.removeEventListener(`mousedown`,this._onMouseDown,!0),e.removeEventListener(`click`,this._onClick),e.removeEventListener(`touchmove`,this._onTouchMove),this.dropdown.element.removeEventListener(`mouseover`,this._onMouseOver),this._isSelectOneElement&&(t.removeEventListener(`focus`,this._onFocus),t.removeEventListener(`blur`,this._onBlur)),n.removeEventListener(`keyup`,this._onKeyUp),n.removeEventListener(`input`,this._onInput),n.removeEventListener(`focus`,this._onFocus),n.removeEventListener(`blur`,this._onBlur),n.form&&n.form.removeEventListener(`reset`,this._onFormReset),this.input.removeEventListeners()},e.prototype._onKeyDown=function(e){var t=e.keyCode,n=this.dropdown.isActive,r=e.key.length===1||e.key.length===2&&e.key.charCodeAt(0)>=55296||e.key===`Unidentified`;switch(!this._isTextElement&&!n&&(this.showDropdown(),!this.input.isFocussed&&r&&(this.input.value+=e.key,e.key===` `&&e.preventDefault())),t){case 65:return this._onSelectKey(e,this.itemList.element.hasChildNodes());case 13:return this._onEnterKey(e,n);case 27:return this._onEscapeKey(e,n);case 38:case 33:case 40:case 34:return this._onDirectionKey(e,n);case 8:case 46:return this._onDeleteKey(e,this._store.items,this.input.isFocussed)}},e.prototype._onKeyUp=function(){this._canSearch=this.config.searchEnabled},e.prototype._onInput=function(){var e=this.input.value;if(!e){this._isTextElement?this.hideDropdown(!0):this._stopSearch();return}this._canAddItems()&&(this._canSearch&&this._handleSearch(e),this._canAddUserChoices&&(this._canCreateItem(e),this._isSelectElement&&(this._highlightPosition=0,this._highlightChoice())))},e.prototype._onSelectKey=function(e,t){(e.ctrlKey||e.metaKey)&&t&&(this._canSearch=!1,this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement&&this.highlightAll())},e.prototype._onEnterKey=function(e,t){var n=this,r=this.input.value,i=e.target;if(e.preventDefault(),i&&i.hasAttribute(`data-button`)){this._handleButtonAction(i);return}if(!t){(this._isSelectElement||this._notice)&&this.showDropdown();return}var a=this.dropdown.element.querySelector(O(this.config.classNames.highlightedState));if(!(a&&this._handleChoiceAction(a))){if(!i||!r){this.hideDropdown(!0);return}if(this._canAddItems()){var o=!1;this._store.withTxn(function(){if(o=n._findAndSelectChoiceByValue(r,!0),!o){if(!n._canAddUserChoices||!n._canCreateItem(r))return;var e=x(r),t=n.config.allowHtmlUserInput||e===r?r:{escaped:e,raw:r};n._addChoice(M({value:t,label:t,selected:!0},!1),!0,!0),o=!0}n.clearInput(),n.unhighlightAll()}),o&&(this._triggerChange(r),this.config.closeDropdownOnSelect&&this.hideDropdown(!0))}}},e.prototype._onEscapeKey=function(e,t){t&&(e.stopPropagation(),this.hideDropdown(!0),this.containerOuter.element.focus())},e.prototype._onDirectionKey=function(e,t){var n=e.keyCode;if(t||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var r=n===40||n===34?1:-1,i=e.metaKey||n===34||n===33,a=void 0;if(i)a=r>0?this.dropdown.element.querySelector(`${$}:last-of-type`):this.dropdown.element.querySelector($);else{var o=this.dropdown.element.querySelector(O(this.config.classNames.highlightedState));a=o?y(o,$,r):this.dropdown.element.querySelector($)}a&&(b(a,this.choiceList.element,r)||this.choiceList.scrollToChildElement(a,r),this._highlightChoice(a)),e.preventDefault()}},e.prototype._onDeleteKey=function(e,t,n){!this._isSelectOneElement&&!e.target.value&&n&&(this._handleBackspace(t),e.preventDefault())},e.prototype._onTouchMove=function(){this._wasTap&&=!1},e.prototype._onTouchEnd=function(e){var t=(e||e.touches[0]).target;this._wasTap&&this.containerOuter.element.contains(t)&&((t===this.containerOuter.element||t===this.containerInner.element)&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation()),this._wasTap=!0},e.prototype._onMouseDown=function(e){var t=e.target;if(t instanceof HTMLElement){if(Pt&&this.choiceList.element.contains(t)){var n=this.choiceList.element.firstElementChild;this._isScrollingOnIe=this._direction===`ltr`?e.offsetX>=n.offsetWidth:e.offsetX<n.offsetLeft}if(t!==this.input.element){var r=t.closest(`[data-button],[data-item],[data-choice]`);r instanceof HTMLElement&&(`button`in r.dataset?this._handleButtonAction(r):`item`in r.dataset?this._handleItemAction(r,e.shiftKey):`choice`in r.dataset&&this._handleChoiceAction(r)),e.preventDefault()}}},e.prototype._onMouseOver=function(e){var t=e.target;t instanceof HTMLElement&&`choice`in t.dataset&&this._highlightChoice(t)},e.prototype._onClick=function(e){var t=e.target,n=this.containerOuter;n.element.contains(t)?!this.dropdown.isActive&&!n.isDisabled?this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),n.element.focus()):this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown():(n.removeFocusState(),this.hideDropdown(!0),this.unhighlightAll())},e.prototype._onFocus=function(e){var t=e.target,n=this.containerOuter;if(t&&n.element.contains(t)){var r=t===this.input.element;this._isTextElement?r&&n.addFocusState():this._isSelectMultipleElement?r&&(this.showDropdown(!0),n.addFocusState()):(n.addFocusState(),r&&this.showDropdown(!0))}},e.prototype._onBlur=function(e){var t=e.target,n=this.containerOuter;if(t&&n.element.contains(t)&&!this._isScrollingOnIe){var r=t===this.input.element;this._isTextElement||this._isSelectMultipleElement?r&&(n.removeFocusState(),this.hideDropdown(!0),this.unhighlightAll()):(n.removeFocusState(),(r||t===n.element&&!this._canSearch)&&this.hideDropdown(!0))}else this._isScrollingOnIe=!1,this.input.element.focus()},e.prototype._onFormReset=function(){var e=this;this._store.withTxn(function(){e.clearInput(),e.hideDropdown(),e.refresh(!1,!1,!0),e._initialItems.length&&e.setChoiceByValue(e._initialItems)})},e.prototype._highlightChoice=function(e){e===void 0&&(e=null);var t=Array.from(this.dropdown.element.querySelectorAll($));if(t.length){var n=e,r=this.config.classNames.highlightedState;Array.from(this.dropdown.element.querySelectorAll(O(r))).forEach(function(e){A(e,r),e.setAttribute(`aria-selected`,`false`)}),n?this._highlightPosition=t.indexOf(n):(n=t.length>this._highlightPosition?t[this._highlightPosition]:t[t.length-1],n||=t[0]),k(n,r),n.setAttribute(`aria-selected`,`true`),this.passedElement.triggerEvent(a.highlightChoice,{el:n}),this.dropdown.isActive&&(this.input.setActiveDescendant(n.id),this.containerOuter.setActiveDescendant(n.id))}},e.prototype._addItem=function(e,t,n){if(t===void 0&&(t=!0),n===void 0&&(n=!1),!e.id)throw TypeError(`item.id must be set before _addItem is called for a choice/item`);(this.config.singleModeForMultiSelect||this._isSelectOneElement)&&this.removeActiveItems(e.id),this._store.dispatch(p(e)),t&&(this.passedElement.triggerEvent(a.addItem,this._getChoiceForOutput(e)),n&&this.passedElement.triggerEvent(a.choice,this._getChoiceForOutput(e)))},e.prototype._removeItem=function(e){e.id&&(this._store.dispatch(m(e)),this.passedElement.triggerEvent(a.removeItem,this._getChoiceForOutput(e)))},e.prototype._addChoice=function(e,t,n){if(t===void 0&&(t=!0),n===void 0&&(n=!1),e.id)throw TypeError(`Can not re-add a choice which has already been added`);var r=this.config;if(!((this._isSelectElement||!r.duplicateItemsAllowed)&&this._store.choices.find(function(t){return r.valueComparer(t.value,e.value)}))){this._lastAddedChoiceId++,e.id=this._lastAddedChoiceId,e.elementId=`${this._baseId}-${this._idNames.itemChoice}-${e.id}`;var i=r.prependValue,a=r.appendValue;i&&(e.value=i+e.value),a&&(e.value+=a.toString()),(i||a)&&e.element&&(e.element.value=e.value),this._clearNotice(),this._store.dispatch(c(e)),e.selected&&this._addItem(e,t,n)}},e.prototype._addGroup=function(e,t){var n=this;if(t===void 0&&(t=!0),e.id)throw TypeError(`Can not re-add a group which has already been added`);this._store.dispatch(f(e)),e.choices&&(this._lastAddedGroupId++,e.id=this._lastAddedGroupId,e.choices.forEach(function(r){r.group=e,e.disabled&&(r.disabled=!0),n._addChoice(r,t)}))},e.prototype._createTemplates=function(){var e=this,t=this.config.callbackOnCreateTemplates,n={};typeof t==`function`&&(n=t.call(this,S,T,D));var r={};Object.keys(this._templates).forEach(function(t){t in n?r[t]=n[t].bind(e):r[t]=e._templates[t].bind(e)}),this._templates=r},e.prototype._createElements=function(){var e=this._templates,t=this,n=t.config,r=t._isSelectOneElement,i=n.position,a=n.classNames,o=this._elementType;this.containerOuter=new le({element:e.containerOuter(n,this._direction,this._isSelectElement,r,n.searchEnabled,o,n.labelId),classNames:a,type:o,position:i}),this.containerInner=new le({element:e.containerInner(n),classNames:a,type:o,position:i}),this.input=new ue({element:e.input(n,this._placeholderValue),classNames:a,type:o,preventPaste:!n.paste}),this.choiceList=new fe({element:e.choiceList(n,r)}),this.itemList=new fe({element:e.itemList(n,r)}),this.dropdown=new ce({element:e.dropdown(n),classNames:a,type:o})},e.prototype._createStructure=function(){var e=this,t=e.containerInner,n=e.containerOuter,r=e.passedElement,i=this.dropdown.element;r.conceal(),t.wrap(r.element),n.wrap(t.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||``:(this._placeholderValue&&(this.input.placeholder=this._placeholderValue),this.input.setWidth()),n.element.appendChild(t.element),n.element.appendChild(i),t.element.appendChild(this.itemList.element),i.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&i.insertBefore(this.input.element,i.firstChild):t.element.appendChild(this.input.element),this._highlightPosition=0,this._isSearching=!1},e.prototype._initStore=function(){var e=this;this._store.subscribe(this._render).withTxn(function(){e._addPredefinedChoices(e._presetChoices,e._isSelectOneElement&&!e._hasNonChoicePlaceholder,!1)}),(!this._store.choices.length||this._isSelectOneElement&&this._hasNonChoicePlaceholder)&&this._render()},e.prototype._addPredefinedChoices=function(e,t,n){var r=this;t===void 0&&(t=!1),n===void 0&&(n=!0),t&&e.findIndex(function(e){return e.selected})===-1&&e.some(function(e){return e.disabled||`choices`in e?!1:(e.selected=!0,!0)}),e.forEach(function(e){`choices`in e?r._isSelectElement&&r._addGroup(e,n):r._addChoice(e,n)})},e.prototype._findAndSelectChoiceByValue=function(e,t){var n=this;t===void 0&&(t=!1);var r=this._store.choices.find(function(t){return n.config.valueComparer(t.value,e)});return r&&!r.disabled&&!r.selected?(this._addItem(r,!0,t),!0):!1},e.prototype._generatePlaceholderValue=function(){var e=this.config;if(!e.placeholder)return null;if(this._hasNonChoicePlaceholder)return e.placeholderValue;if(this._isSelectElement){var t=this.passedElement.placeholderOption;return t?t.text:null}return null},e.prototype._warnChoicesInitFailed=function(e){if(!this.config.silent)if(this.initialised){if(!this.initialisedOK)throw TypeError(`${e} called for an element which has multiple instances of Choices initialised on it`)}else throw TypeError(`${e} called on a non-initialised instance of Choices`)},e.version=`11.0.2`,e}();wfc.bind(`.js-choice`,{init:function(e){e.classList.remove(`choices__inner`);let t=e.querySelector(`.js-choice-temp`);t&&t.remove();let n=e.querySelector(`input,select`),r=new It(n,{allowHTML:!0,removeItemButton:!0});e.input=n,e.choice=r,e.autoPostBack=!1,n.addEventListener(`change`,function(){e.autoPostBack&&wfc.postBackChange(n,50)})},update:function(e,t){let{choice:n,input:r}=e,i=t.querySelector(`input,select`);if(e.autoPostBack=t.hasAttribute(`data-wfc-autopostback`),t.hasAttribute(`data-wfc-disabled`)?n.disable():n.enable(),r.tagName===`INPUT`){let e=t.getAttribute(`data-value`);if(e){let t=JSON.parse(e);n.clearStore(),n.setValue(t)}}if(r.tagName===`SELECT`){let e=i,t=Array.from(e.options).filter(e=>e.selected).map(e=>e.value),r=n.getValue(!0),a=r?Array.isArray(r)?r:[r]:[];for(let e of a)t.includes(e)||n.removeActiveItemsByValue(e);for(let e of t)a.includes(e)||n.setChoiceByValue(e)}return!0},submit:function(e,t){let{choice:n,input:r}=e;t.set(r.name,JSON.stringify(n.getValue(!0)))},destroy:function(e){let{choice:t}=e;t.destroy()}})})();